<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
   <link rel="stylesheet" href="Estilo.css"> <!--Chamando css-->
  <title>Sorteio Simples</title>
</head>
<body>
<header">

 <!-- Cadastro de nomes -->
  <div class="A0" id="B1"> 
    <h2 class="A1">Sorteio de Nomes</h2>
    <input type="text" id="Item_Digitado" placeholder="Digite um nome">
    <button onclick="Adicionar()">Adicionar</button>
    <button onclick="Sortear()">Sortear</button>
  </div>

  <!--Resultados -->
  <div id="B2" class="A0" style="display:none;">
    <h2 class="A1">O sorteado foi:</h2>
    <h1 id="Nome_Sorteado" class="A2"></h1>
    <button onclick="Voltar()">Novo Sorteio</button>
  </div>

  <!--Animação -->
  <div id="flores"></div>
</header>


<script>

// Lista dos Nomes
let Itens_Selecionados2 = []; 

  //Confugurando a entrada do usuario
function Adicionar() {
      let Item = document.getElementById("Item_Digitado").value.trim();                                               //Atribui a variavel "Item" o valor de "Intem_digitados" / Trim reove os espaços " Maria " = "Maria"

  /*Inserindo os Nomes na lista
                          Aciona na lista            Atualiza              Reset o input                              */
      if (Item) { Itens_Selecionados2.push(Item); document.getElementById("Item_Digitado").value = "";}               
      else {alert("Digite um nome válido!");}
}


function Sortear() {
      if (Itens_Selecionados2.length === 0) {alert("Adicione pelo menos um nome antes de sortear!"); return;}
      
      //Inicia animação
      const ChuvaDeFlores = document.getElementById("flores");
      ChuvaDeFlores.style.display = "block";
      criarFlores();

      //Cronometro
      setTimeout(() => {
      
      //Fazendo o Sorteio
      let Sorteado = Itens_Selecionados2[Math.floor(Math.random() * Itens_Selecionados2.length)];
      document.getElementById("Nome_Sorteado").textContent = Sorteado;

      //Resultado
      document.getElementById("B1").style.display = "none";
      document.getElementById("B2").style.display = "grid";

      //Para animação
      ChuvaDeFlores.innerHTML = "";
      ChuvaDeFlores.style.display = "none";
      }, 
      3000
      );
}


function Voltar() {
      // Restaura o conteúdo original da div
      document.getElementById("B2").style.display = "none";
      document.getElementById("B1").style.display = "grid";

      // Limpa a lista para novo sorteio
      Itens_Selecionados2 = [];
      document.getElementById("Item_Digitado").value = "";
}


//Criando as flores
function criarFlores() {
    const container = document.getElementById("flores");
    container.style.display = "block";

    for (let i = 0; i < 30; i++) {
    let flor = document.createElement("div");
    flor.className = "flor";
    flor.style.left = Math.random() * 100 + "vw";
    flor.style.animationDuration = (3 + Math.random() * 2) + "s";

    let img = document.createElement("img");
    img.src = "Petalas.png";
    flor.appendChild(img);

    container.appendChild(flor);
    flor.addEventListener("animationend", () => flor.remove());
  }
}
  
  </script>

</body>
</html>

